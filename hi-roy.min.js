!function($){function get_random_position(){return $hi_roy_sides[Math.floor(Math.random()*$hi_roy_sides.length)]}function hiRoy($element,$options,$callback){var $hi_roy=this,$defaults={id:"hi-roy",startPosition:get_random_position(),image:"roy-head.png",link:"https://twitter.com/intent/tweet?text=Hi+@royboy789.+http%3A%2F%2Fhiroy.club%2F&hashtags=hiroy",link_target:"_blank",moveOnStart:!0,moveOnMove:!0};$hi_roy.options=$.extend({},$defaults,$options),$hi_roy.disabled=!1,$hi_roy.move_disabled=!1,$hi_roy.position=$hi_roy.options.startPosition,delete $hi_roy.options.startPosition;var $hi_roy_id=$hi_roys.length>1?$hi_roy.options.id+$hi_roys.length:$hi_roy.options.id;$hi_roy.element=$('<div id="'+$hi_roy_id+'" class="hi-roy-element"></div>').addClass($hi_roy.position).hide(),$hi_roys.push($hi_roy.element);var $hi_roy_element_link=$('<a href="'+$hi_roy.options.link+'"></a>');void 0!==$hi_roy.options.link_target&&""!=$hi_roy.options.link_target&&$hi_roy_element_link.attr("target",$hi_roy.options.link_target);var $hi_roy_element_img=$('<img src="'+$hi_roy.options.image+'" />');$hi_roy_element_link.append($hi_roy_element_img),$hi_roy.element.append($hi_roy_element_link),$hi_roy_element_img.on("load",function(){var $hi_roy_element_img_copy=$hi_roy_element_img.clone().css({position:"absolute",left:"200%",top:"200%"}).appendTo($("body"));$hi_roy.height=$hi_roy_element_img_copy.height(),$hi_roy_element_img_copy.remove(),$element.append($hi_roy.element),$hi_roy.options.moveOnStart?$hi_roy.moveIn($hi_roy.position,function(){$hi_roy.options.moveOnMove&&$(window).on("touchstart mousemove",function($event){$hi_roy.move()}),$callback&&$callback()}):$callback&&$callback()})}var $hi_roy_sides=["top","right","bottom","left"],$hi_roys=[];$.extend(hiRoy.prototype,{get_position:function(){return this.position},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},disableMove:function(){this.move_disabled=!0},enableMove:function(){this.move_disabled=!1},destroy:function(){this.element.remove(),this.disable()},moveIn:function($position,callback){var $hi_roy=this;if($hi_roy.move_disabled)return!1;$hi_roy.move_disabled=!0,$hi_roy.element.removeClass($hi_roy.position).addClass($position),$hi_roy.element.removeAttr("style"),$hi_roy.element.find("img").removeAttr("style"),$hi_roy.element.css($position,-$hi_roy.height),$hi_roy.position=$position;var $new_cutout_pos=Math.floor(81*Math.random()+10);switch($hi_roy.position){case"left":case"right":$hi_roy.element.css("width",$hi_roy.height),$hi_roy.element.find("img").css({top:$new_cutout_pos+"%"});break;case"top":case"bottom":$hi_roy.element.css("height",$hi_roy.height),$hi_roy.element.find("img").css({left:$new_cutout_pos+"%"})}var $animate={};$animate[$hi_roy.position]=0,$hi_roy.element.show().animate($animate,800,function(){$hi_roy.move_disabled=!1;var $hiRoyAfterMoveIn=new CustomEvent("hiRoyAfterMoveIn",{detail:{position:$hi_roy.position}});document.body.dispatchEvent($hiRoyAfterMoveIn),callback&&callback()})},moveOut:function(callback){var $hi_roy=this;if($hi_roy.move_disabled)return!1;$hi_roy.move_disabled=!0;var $animate={};$animate[$hi_roy.position]=0-$hi_roy.height,$hi_roy.element.animate($animate,800,function(){$hi_roy.element.hide(),$hi_roy.move_disabled=!1;var $hiRoyAfterMoveOut=new CustomEvent("hiRoyAfterMoveOut",{detail:{position:$hi_roy.position}});document.body.dispatchEvent($hiRoyAfterMoveOut),callback&&callback()})},move:function($position){var $hi_roy=this;if($hi_roy.disabled||$hi_roy.move_disabled)return!1;var $next_position=$position;(void 0===$next_position||-1==$.inArray($next_position,$hi_roy_sides))&&($next_position=get_random_position()),$hi_roy.moveOut(function(){$hi_roy.moveIn($next_position)})}}),$.fn.hiRoy=function($options,$callback){if(!$.data(this,"hi-roy")){var $new_hi_roy=new hiRoy(this,$options,$callback);return $.data(this,"hi-roy",$new_hi_roy),$new_hi_roy}}}(jQuery);